{% extends "base.html" %}

{% block content %}
<div id="content" class="col-lg-10 col-sm-11">
  <div class="row">	
    <div class="col-lg-12">

{% if teams %}
        <div class="box">

          <div class="box-header">
            <h2><i class="fa fa-list"></i>Search Result ( {{ teams.all.count }} )</h2>
            <div class="box-icon">
            </div>
          </div>
          <div class="box-content">
            <table class="table table-striped bootstrap-datatable datatable">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Team Name</th>
                  <th>Status</th>
                </tr>
              </thead>   
              <tbody>
                {% for team in teams %}
                <tr>
                  <td class="center">{{ team.id }}</td>
                  <td class="center">{{ team.name }}</td>
                  <td class="center">
                    <span class="label label-success">Active</span>
                    {% if user in team.members.all %}
                      <span class="label label-info">Member</span>
                    {% endif %}
                  </td>
                  <td class="center">
                    <a class="btn btn-success" href="">
                      <i class="fa fa-search-plus "> Team Information</i>  
                    </a>
                    {% if user in team.members.all %}
                      <a class="btn btn-danger" href="#">
                        <i class="fa fa-trash-o "> Leave</i> 
                      </a>
                    {% else %}
                      <a class="btn btn-info" href="{% url 'teams:join' team.id %}">
                        <i class="fa fa-users"> Join Request</i> 
                      </a>
                    {% endif %}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>            
          </div>
        </div>

{% else %}
          <div class="box-content alerts">
            <div class="alert alert-danger">
              <button type="button" class="close" data-dismiss="alert">Ã—</button>
              <strong>No Result!</strong> Please look up again with valid team name
            </div>
          </div>
{% endif %}

    </div>
  </div>
</div>
{% endblock %}
